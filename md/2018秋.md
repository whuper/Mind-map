https://zhuanlan.zhihu.com/p/29469769  

# bd（3 1）

1 cookie和session, cookie和webStorage的区别，如果cookie被篡改怎么办

	参考 html5 api

	取 出userId, time， token三 者对应的cookie， 判断前两者通过相同的md5加 密后和token是 否相等，如果相等证明验证通过，如果不等，验证不通过

2 跨域的方法

		1 jsonp
		2 CORS(Cross-Origin Resource Sharing, 跨源资源共享)
		3 HTML5中新引进的window.postMessage

3 因为引用计数产生的内存泄漏，在ES6中的解决办法是什么




4 js中基本类型在内存中存储方式是什么，引用类型的存储方式是什么

  - 基本类型值在内存中占据固定大小的空间，因此被保存在栈内存中。引用类型的值是对象，保存在堆内存中。

5 手写jsonp以及常见的响应码，特别问了401

参考 **js优化和常用概念**
	

6 渐进增强和优雅降级

**7 封装的js插件，事件委托和性能优化**

8 http连接性能优化，长连接，keep-alive

9 从输入url到看到页面发生了什么

参考 **http-browser**

10 前端缓存机制，如果去掉etags\last-modefied\cache-control这些控制缓存的字段，浏览器会怎么处理缓存


>  header中有一个参数叫Last-Modified ，这个是由服务器自动加上的，如果有这个参数，那么浏览器每次都会重新计算本地的cache。如果浏览器返回一个304的编码就表示资源没有改变，那么浏览器就可以使用本地的cache。

> 就如参考文档中说的，对于IE来说，如果没有设置expirse header的时候，IE的缓存时间就是一个session的时间，如果用户打开一个新的IE窗口的时候，他们就会获取最新的静态资源。但是对于 firefox来说它就不是这样了，它是依赖last—modified的时间的（HTTP 1.1 spec RFC2616）。

11 说一下前端性能优化的各种情况，然后讲清楚每一个类别的细节

12 给定两个整数a和b，要求在使用任何辅助空间的情况下，交换两个的值

13 给两个杯子，一个5升，一个6升，水随便用，最后取出3升水

14 给10个箱子，有一个比其他得要轻，用最少的比较次数找出这个箱子

15 React组件声明周期，要传送数据在哪个周期发生，应该怎么实现

16 设计一个产品，实现非前端人员或者运维人员可以方便使用，达到不需要专业前端开发人员就可以实现前端交互实现的功能，详细介绍产品设计的思路、技术选型、用户体验考虑、前端底层支撑实现、项目架构设计和后台架构设计。

17 给你一个团队，怎么去带，怎么分配任务和把控项目进度

18 论文算法细节、创新点。 项目中的架构和技术细节。

19 let暂时性死区和块级作用域

暂时性死区：


> 只要块级作用域内存在let命令，它所声明的变量就“绑定”（binding）这个区域，不再受外部的影响。

> ES6明确规定，如果区块中存在let和const命令，这个区块对这些命令声明的变量，从一开始就形成了封闭作用域。凡是在声明之前就使用这些变量，就会报错。

> 总之，在代码块内，使用let命令声明变量之前，该变量都是不可用的。这在语法上，称为“暂时性死区”（temporal dead zone，简称TDZ）。

> 块作用域由 { } 包括，if语句和for语句里面的{ }也属于块作用域

20 React的组件生命周期 


24.实现深拷贝的方法

  参考 **前端**

**25.前端安全（XSS、CSRF以及应对措施）**

XSS:跨站脚本攻击(Cross Site Scripting)

> 人们经常将跨站脚本攻击（Cross Site Scripting）缩写为CSS，但这会与层叠样式表（Cascading Style Sheets，CSS）的缩写混淆。因此，有人将跨站脚本攻击缩写为XSS。

利用了系统对用户的信任

参考 **前端**

XSS漏洞修复

**用户将数据提交上来的时候进行HTML编码，将相应的符号转换为实体名称再进行下一步的处理**

【不要相信用户提交的数据，过滤过滤过滤！】

	1、将重要的cookie标记为http only, 这样的话Javascript 中的document.cookie语句就不能获取到cookie了.

	2、表单数据规定值的类型，例如：年龄应为只能为int、name只能为字母数字组合。

	4、对数据进行Html Encode 处理

	5、过滤或移除特殊的Html标签， 例如: <script>, <iframe> , &lt; for <, &gt; for >, &quot for

	6、过滤JavaScript 事件的标签。例如 "onclick=", "onfocus" 等等。

## CSRF（跨站请求伪造）攻击
CSRF(Cross Site Request Forgery,跨站请求伪造)是一种近年来才逐渐被大众了解的网络攻击方式，又被称为One-Click Attack或Session Riding。

### 攻击原理

CSRF攻击的大致方式如下：某用户登录了A网站，认证信息保存在cookie中。当用户访问攻击者创建的B网站时，攻击者通过在B网站发送一个伪造的请求提交到A网站服务器上，让A网站服务器误以为请求来自于自己的网站，于是执行响应的操作，该用户的信息边遭到了篡改。总结起来就是，攻击者利用用户在浏览器中保存的认证信息，向对应的站点发送伪造请求。用户的认证是通过保存在cookie中的数据实现，在发送请求是，只要浏览器中保存了对应的cookie，服务器端就会认为用户已经处于登录状态，而攻击者正是利用了这一机制。

下面为CSRF攻击原理图：
![CSRF](/assets/CSRF.jpg)


### CSRF防御方法


#### 验证HTTP Referer字段

当处理非GET请求时，要想避免CSRF攻击，关键在判断请求是否来自自己的网站。理论上讲，通过HTTP referrer可以判断原站点从而避免CSRF攻击，但是referer很容易被修改和伪造，所以不能作为主要的防御措施。

#### 使用验证码

#### CSRF令牌校验
除了在表单中加入校验码外，一般的做法是通过在客户端页面中加入伪随机数来防御CSRF攻击，这个伪随机数通过被称为CSRF令牌（token）。

在计算机语境中，令牌（token）指用于标记、验证和传递信息的字符，通常是通过一定算法生成的随机数。

在HTML中，POST方法的请求通过表单创建。我们把在服务器端创建的伪随机数（CSRF令牌）添加到表单中的隐藏字段里和session变量（即签名cookie）中，当用户提交表单时，这个令牌会和表单数据一起提交。
在服务器端处理POST请求时，会对表单中的令牌值进行验证，如果表单中的令牌值和seesion中的令牌值相同，就说明请求来自自己的网站。因为CSRF令牌在用户向包含表单的页面发起GET请求时创建，并且在一定时间内过期，一般情况下攻击者无法获取到这个令牌值，所以我们可以有效地区分出请求的来源是否安全。
 
**对于AJAX请求，我们可以在XMLHttpRequest请求首部添加一个自定义字段X-CSRFToken来保存CSRF令牌。**

如果程序存在XSS漏洞，那么攻击者可以使用javaScript窃取cookie内容，进而获取CSRF令牌。

---

26.类数组有哪些

27.for in的缺点

28.forEach()

29.ES6中map遍历的实现原理

30.数组去重问题

31.React的思想和原理，虚拟DOM树和diff算法



# mt（3 1）

5 https的详细过程，使用的加密算法，是对称加密算法还是非对称加密算法。md5、SHA、AES分别是对称加密的还是非对称加密的


7 模块化, webpack, AMD和CMD

AMD 是 RequireJS 在推广过程中对模块定义的规范化产出。

CMD 是 SeaJS 在推广过程中对模块定义的规范化产出。

类似的还有 CommonJS Modules/2.0 规范，是 BravoJS 在推广过程中对模块定义的规范化产出。

对于依赖的模块，AMD 是提前执行，CMD 是延迟执行


**9 盒子模型中的margin折叠问题**

触发BFC

10 两列等高布局，左右两列中间有个margin=20px，左侧定宽怎么实现，如果左侧不定宽怎么实现

11 二维数组中，找出最大的m个数。（每一行都是非递减序列）

12 作用域， 原型链，闭包。手写一个闭包，并分析作用域。什么情况下，闭包会导致内存泄漏，手写给个例子。

13 Symbol，写一个应用实例，并说出它的其他应用场景

14 BFC的定义和特性

15 手写实现斐波那契序列

16 webpack中babel的实现

Babel的编译过程跟绝大多数其他语言的编译器大致同理，分为三个阶段：

> 解析：将代码字符串解析成抽象语法树
> 	
> 变换：对抽象语法树进行变换操作
> 	
> 再建：根据变换后的抽象语法树再生成代码字符串

17 jQuery源码看过没有，说一说自己有哪些了解

18 node.js 用过没有

19 ajax存不存在跨域的问题，解决跨域的问题有哪些

**存在**

> 在工作中，大家应该都遇到过ajax跨域问题，浏览器的错误如下：
> 
> XMLHttpRequest cannot load http://目标地址No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://当前页面地址' is therefore not allowed access.
> 
> 为什么会出现跨域问题
> 
> 跨域，指的是浏览器不能执行其他网站的脚本。它是由浏览器的同源策略造成的，是浏览器对JavaScript施加的安全限制。

20 数组的各种方法

21 CSS3 中position的新取值

22 浮动和定位

23 内存换页算法知道哪些，说一下详细的算法思想和细节

24 手写实现 LRU 换页算法

25 9个球，有一个不正常，但不知道是轻了，还是重了。怎么比对，在3次内找出这个球。

26 a和b两个数，不借助任何辅助空间，交换值。

27 js封装插件的问题

28 事件循环知道吗？描述一下它的实现原理和应用场景。

29 ajax调用中，后台数据返回线程和前端UI线程是怎样通信和交互的，说一下实现原理。如果让你来设计，你会怎么设计，给出关键的数据结构和流程思路。



#360（2 1）

1 手写封装一个jsonp

2 get和post请求（FF浏览器的特例）

3 垂直居中

4 HTML5、ES6新特性

5 动画

6 事件委托（e.target, e.currentTarget, e.srcElement）

7 冒泡和捕获

8 阻止冒泡的方法，阻止默认事件的方法(兼容IE)

9 redex缓存

10 封装的插件中datepicker的实现原理

11 性能优化中离线操作

12 跨域的其他方法

13 delegate（事件委托和异步编程）

14 fiddler 抓包

15 数组去重

16 psd切图

17 正则表达式

18 socket+openvpn

19 http包的格式和解析



# 商汤科技（3 1）

1 常用的状态响应码

2 手写快排

3 手写实现求两个集合A, B 的差集，<A-B>和<B-A>都要给出

4 说一下react和vue的应用场景

5 vue-router

6 CDN路由回溯定向

7 webpack主要解决了什么问题，有哪些优点

8 TCP和 UDP

9 soket阻塞模式

10 防火墙output链

11 作用域和原型链，出了一个作用域题，说出输出

12 new发生了什么和this对象的指向类别

13 bind、apply和call

14 原型链题，在一个构造函数的原型上添加方法，问新构造的对象里有没有这个方法

15 docType是干什么的，都有哪几种取值

16 浏览器缓存机制，流程和细节

17 cookie和sessionStorage、localStorage的区别

19 正常情况下，如果浏览器已经登录了百度账号，再另外打开一个tab页是会自动保持登录状态的，问怎样杜绝这个事情，使得每一次打开都是重新登录，给出实现方案。

**20 http1.0 和 http2.0 的区别**

1.1可以将连接keep alive，一个页面有多个文件不用每次都发起新的连接
断点续传也是 1.1 才支持的

HTTP1.1 HTTP 2.0主要区别

多路复用

HTTP2.0使用了(类似epoll)多路复用的技术，做到同一个连接并发处理多个请求，而且并发请求的数量比HTTP1.1大了好几个数量级。

数据压缩

HTTP1.1不支持header数据的压缩，HTTP2.0使用HPACK算法对header的数据进行压缩，这样数据体积小了，在网络上传输就会更快。

**21 https 的详细过程，从握手到SSL协议，并说出为什么https并没有得到大规模应用**

HTTP是一个应用层协议，由请求和响应构成，是一个标准的客户端服务器模型。

HTTP是一个无状态的协议。

在Internet中所有的传输都是通过TCP/IP进行的。HTTP协议作为TCP/IP模型中应用层的协议也不例外。HTTP协议通常承载于TCP协议之上，有时也承载于TLS或SSL协议层之上，这个时候，就成了我们常说的**HTTPS**

HTTPS可以理解为HTTP+SSL/TLS， 即 HTTP 下加入 SSL 层，HTTPS 的安全基础是 SSL，因此加密的详细内容就需要 SSL，用于安全的 HTTP 数据传输。

SSL（Secure Socket Layer，安全套接字层）

TLS（Transport Layer Security，传输层安全）

22 gzip压缩和雪碧图

23 IE盒子和W3C盒子，两种盒子下，margin取百分比，是相对谁取值的

父元素

24 浏览器兼容问题

25 捕获和冒泡

26 http 三次握手，和https握手

27 事件循环，就是定时器的使用。并且出了一个题。问输出什么
	
	var now = new Date();
	
	var timer = setTimeout(function(){
	
	console.log(new Date()-now);
	
	}, 300);
	
	while((new Date()-now)<1000){};


28 给出上题中，堆栈的执行过程分析

29 说一下Mvvm和Flux两种框架

30 手写一个工厂类方法，并在它的基础上给出装饰者模式

31 实现在一个方法A的调用之前都会先调用方法B, 不允许更改接口和调用方式（钩子和职责链）

32 手写一个观察者模式，然后再说一下怎么实现发布订阅模式（不能依赖任何第三方框架或已有的实现）

33 实现一个双向数据绑定，就像angular、react或者vue这种mvvm框架中的双向绑定一样

34 inline 和inline-block的区别

1、display：block将元素显示为块级元素，从而可以更好地操控元素的宽高，以及内外边距，每一个块级元素都是从新的一行开始。

2、display : inline将元素显示为行内元素，不可设置宽高,**但可以设置行高** 多个相邻的行内元素排在同一行里，知道页面一行排列不下，才会换新的一行。**只能设置左右的padding和margin**


	<img>、<input>、<textarea>、<select>、<object>替换元素,可设置宽高和margin
	

3、display：inline-block看上去值名inline-block是一个混合产物，实际上确是如此，将元素显示为行内块状元素，设置该属性后，其他的行内块级元素会排列在同一行。比如我们li元素一个inline-block，使其既有block的宽度高度特性，又有inline的同行特性，在同一行内有不同高度内容的元素时，通常要设置对齐方式如vertical-align: top;来使元素顶部对齐。

35 对glup和grant有了解吗，简要说一下

**36 怎样设计实现bootstrap中的栅格系统**

37 操作dom的方法，主要问了取dom对象的方法

38 聊项目



#jd（2 1）

1 手写实现CSS两列等高布局，尽量给出多种方法

2. Z-index，出了一个题，BFC
	
		//假定三个div已经使用了position:relative，问三个div的层叠关系是怎样的，为什么
		
		<div id='A' style='z-index: 2;'> <div id='B' style='z-index: 5;'></div> </div> <div id='C' style='z-index: 3;'></div>


3 块级元素、行内元素、行内块级元素都有哪些？使用场景都是什么？为什么要用到行内块级元素

4 JS的数据类型，ES6里的Symbol

5 Ajax的实现原理, 手写封装一个ajax实现


6 jsonp的可以使用POST方法吗？如果要传递的参数超过了get的最大长度，要怎么办？还有其他哪些跨域方法？

7 http三次握手，为什么要这样设计？如果改成两次握手会产生什么问题？

8 http四次挥手

9 EL表达式，jsp模板

10 ant-Template前端模板

11 .css预处理器，Less和Sass


12 .聊项目

13 .安全策略，DMZ和vlan划分

14 .神经网络算法

15 .二面聊项目，聊架构和细节****